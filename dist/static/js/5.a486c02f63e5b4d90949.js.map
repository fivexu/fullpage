{"version":3,"sources":["webpack:///./src/base/lineChart/lineChart.vue?d64b","webpack:///./src/components/home/home.vue?8dfb","webpack:///./src/base/lineChart/lineChart.vue?f09e","webpack:///lineChart.vue","webpack:///./src/components/home/home.vue?a94e","webpack:///home.vue","webpack:///./src/api/getWeatherList.js"],"names":["__webpack_require__","Component","module","exports","render","_h","this","$createElement","_c","_self","ref","attrs","id","on","mouseleave","canvasMouseLeave","mousemove","canvasMouseMove","_v","load","rowData","length","staticClass","click","download","_e","staticRenderFns","__webpack_exports__","Array","Number","Boolean","String","filename","event","canvas","imgType","offsetLeft","offsetHeight","cxt","num","_this","createTimer","createAxis","playing","min","arguments","undefined","row","percen","color","beginPath","fill","stroke","closePath","y","toY","strokeStyle","offsetWidth","i","_this2","timer","_i","play","height","fillStyle","_this3","createCanvas","initCanvas","_vm","style","background","bgImg","city","_m","_s","province","type","autofocus","placeholder","keydown","$event","_k","keyCode","key","searchKeyDown","search","ToDayWenDU","class","icon","ToDayTianQi","tips","_l","item","time","day","day_tianqi","day_wendu","day_wind","night","night_tianqi","night_wendu","night_wind","rankList","touchstart","stopPropagation","canvasTouchStart","touchmove","canvasTouchMove","touchend","canvasTouchEnd","canvasList","ac","dayBtn","btn","dayList","nightList","colData","sunList","loaded","error","deltaX","startX","url","_axios_0_16_2_axios_default","a","get","getHours","data","cityname","provincename","sun","value","_getWeatherList","LineChart","lineChart_default","FootBox","footer_default","Loading","loading_default","Wrong","error_default"],"mappings":"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","file":"static/js/5.a486c02f63e5b4d90949.js","sourcesContent":["\n/* styles */\nrequire(\"!!../../../node_modules/_extract-text-webpack-plugin@2.1.2@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@11.3.4@vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-4f5e1271\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@11.3.4@vue-loader/lib/selector?type=styles&index=0!./lineChart.vue\")\n\nvar Component = require(\"!../../../node_modules/_vue-loader@11.3.4@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/_vue-loader@11.3.4@vue-loader/lib/selector?type=script&index=0!./lineChart.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/_vue-loader@11.3.4@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4f5e1271\\\",\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../../node_modules/_vue-loader@11.3.4@vue-loader/lib/selector?type=template&index=0!./lineChart.vue\"),\n  /* scopeId */\n  \"data-v-4f5e1271\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/lineChart/lineChart.vue\n// module id = Kr1H\n// module chunks = 4 5","\n/* styles */\nrequire(\"!!../../../node_modules/_extract-text-webpack-plugin@2.1.2@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@11.3.4@vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-f6185880\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@11.3.4@vue-loader/lib/selector?type=styles&index=0!./home.vue\")\n\nvar Component = require(\"!../../../node_modules/_vue-loader@11.3.4@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/_vue-loader@11.3.4@vue-loader/lib/selector?type=script&index=0!./home.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/_vue-loader@11.3.4@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-f6185880\\\",\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../../node_modules/_vue-loader@11.3.4@vue-loader/lib/selector?type=template&index=0!./home.vue\"),\n  /* scopeId */\n  \"data-v-f6185880\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/home/home.vue\n// module id = LqM4\n// module chunks = 5","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    ref: \"wrapper\",\n    attrs: {\n      \"id\": \"lineChart\"\n    }\n  }, [_c('canvas', {\n    ref: \"canvas\",\n    attrs: {\n      \"id\": \"canvas\"\n    },\n    on: {\n      \"mouseleave\": _vm.canvasMouseLeave,\n      \"mousemove\": _vm.canvasMouseMove\n    }\n  }), _vm._v(\" \"), (_vm.load && _vm.rowData.length) ? _c('div', {\n    staticClass: \"download\",\n    on: {\n      \"click\": _vm.download\n    }\n  }, [_vm._v(\"下载图片\")]) : _vm._e()])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@11.3.4@vue-loader/lib/template-compiler?{\"id\":\"data-v-4f5e1271\",\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./node_modules/_vue-loader@11.3.4@vue-loader/lib/selector.js?type=template&index=0!./src/base/lineChart/lineChart.vue\n// module id = QB43\n// module chunks = 4 5","<template>\r\n  <div id=\"lineChart\" ref=\"wrapper\">\r\n    <canvas id=\"canvas\"\r\n            ref=\"canvas\"\r\n            @mouseleave=\"canvasMouseLeave\"\r\n            @mousemove=\"canvasMouseMove\">\r\n    </canvas>\r\n    <div class=\"download\" v-if=\"load&&rowData.length\" @click=\"download\">下载图片</div>\r\n  </div>\r\n</template>\r\n\r\n<script type=\"text/ecmascript-6\">\r\n  export default {\r\n    props: {\r\n      rowData: {\r\n        type: Array,\r\n        default: []\r\n      },\r\n      colData: {\r\n        type: Array,\r\n        default: () => []\r\n      },\r\n      colStart: {\r\n        type: Number,\r\n        default: 1\r\n      },\r\n      row: {\r\n        type: Number,\r\n        default: 5\r\n      },\r\n      load: {\r\n        type: Boolean,\r\n        default: true\r\n      },\r\n      hoverLine: {\r\n        type: Boolean,\r\n        default: true\r\n      },\r\n      playing: {\r\n        type: Boolean,\r\n        default: true\r\n      },\r\n      imgType: {\r\n        type: String,\r\n        default: 'jpg'\r\n      }\r\n    },\r\n    data () {\r\n      return {\r\n        Axis: []\r\n      }\r\n    },\r\n    methods: {\r\n      saveFile (rowData, filename) {\r\n        let saveLink = document.createElementNS('http://www.w3.org/1999/xhtml', 'a')\r\n        saveLink.href = rowData\r\n        saveLink.download = filename\r\n        let event = document.createEvent('MouseEvents')\r\n        event.initMouseEvent('click', true, false, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null)\r\n        saveLink.dispatchEvent(event)\r\n      },\r\n      download () {\r\n        let canvas = this.$refs.canvas\r\n        if (!this.imgType.match(/png|jpeg|jpg|bmp|gif/)) {\r\n          this.imgType = 'jpg'\r\n        }\r\n        this.saveFile(canvas.toDataURL(`image/${this.imgType}`), `${new Date().getTime()}.${this.imgType}`)\r\n      },\r\n      canvasMouseMove (ev) {\r\n        ev = ev || event\r\n        if (!this.hoverLine && !this.isPC()) {\r\n          return\r\n        }\r\n        let canvas = this.$refs.canvas\r\n        let cxt = canvas.getContext('2d')\r\n        let disX = ev.clientX - this.$refs.wrapper.offsetLeft - this.$refs.wrapper.parentNode.offsetLeft\r\n        for (let i = 0; i < this.Axis.length; i++) {\r\n          if (disX >= parseInt(this.Axis[i].x) - 2 && disX <= parseInt(this.Axis[i].x) + 2) {\r\n            cxt.clearRect(0, 0, this.$refs.canvas.offsetWidth, this.$refs.canvas.offsetHeight)\r\n            this.initCanvas(false)\r\n            this.createStroke(this.Axis[i].x, 0, this.Axis[i].x, this.$refs.canvas.offsetHeight, cxt)\r\n          }\r\n        }\r\n      },\r\n      canvasMouseLeave () {\r\n        if (!this.hoverLine) {\r\n          return\r\n        }\r\n        this.initCanvas(false)\r\n      },\r\n      numberToFixed (num) {\r\n        num = num.toFixed(2)\r\n        num = parseInt(num)\r\n        return num\r\n      },\r\n      createCanvas () {\r\n        clearInterval(this.createTimer)\r\n        this.createTimer = setInterval(() => {\r\n          this.createAxis()\r\n          if (this.rowData.length) {\r\n            this.initCanvas(this.playing)\r\n            clearInterval(this.createTimer)\r\n          }\r\n        }, 30)\r\n      },\r\n      getNumberSize (num, min = false) {\r\n        if (min) {\r\n          return Math.floor(num / 5) * 5\r\n        }\r\n        if (num < 0 && !min) {\r\n          return Math.ceil(num / 5) * 5\r\n        }\r\n        if (num < 0) {\r\n          return Math.ceil(num / 5) * 5\r\n        }\r\n        if (num >= 0) {\r\n          return Math.ceil(num / 5) * 5\r\n        }\r\n      },\r\n      setRowNumber (height, cxt) {\r\n        if (!this.rowData.length) {\r\n          return\r\n        }\r\n        let row = (height - 50) / this.row\r\n        let max = this.getNumberSize(Math.max.apply(Math, this.rowData))\r\n        let min = this.getNumberSize(Math.min.apply(Math, this.rowData), true)\r\n        let num = max - min\r\n        for (let i = 0; i < this.row; i++) {\r\n          this.createText(20, height - (47 + i * row), cxt, this.numberToFixed((min + i * num / (this.row - 1))))\r\n        }\r\n      },\r\n      setColNumber (width, height, cxt) {\r\n        for (let i = this.colStart; i < (this.rowData.length + this.colStart); i++) {\r\n          this.createText(58 + (width - 60) / this.rowData.length * (i - this.colStart), height - 20, cxt, this.colData.length <= 0 ? i : this.colData[i - 1])\r\n        }\r\n      },\r\n      setWeatherPosition (currentNumber) {\r\n        let max = this.getNumberSize(Math.max.apply(Math, this.rowData))\r\n        let min = this.getNumberSize(Math.min.apply(Math, this.rowData), true)\r\n        let num = max - min <= 0 ? 1 : max - min\r\n        let percen = (currentNumber - min) / num\r\n        // (this.row - 1) * ((this.$refs.canvas.offsetHeight - 50) / this.row) 动态获取数据范围的高度\r\n        return ((this.row - 1) * ((this.$refs.canvas.offsetHeight - 50) / this.row)) * Math.abs(percen)\r\n      },\r\n      createArc (x, y, context, color = '#fff', w = 3, h = 3) {\r\n        context.beginPath()\r\n        context.fillStyle = color\r\n        context.strokeStyle = color\r\n        context.arc(x, y, w, h, Math.PI * 4)\r\n        context.fill()\r\n        context.stroke()\r\n        context.closePath()\r\n      },\r\n      createText (x, y, context, text) {\r\n        context.beginPath()\r\n        context.fillStyle = '#fff'\r\n        context.fillText(text, x, y)\r\n        context.closePath()\r\n      },\r\n      createStroke (x, y, toX, toY, context) {\r\n        context.beginPath()\r\n        context.moveTo(x, y)\r\n        context.lineTo(toX, toY)\r\n        context.lineWidth = 1\r\n        context.strokeStyle = `#fff`\r\n        context.stroke()\r\n        context.closePath()\r\n      },\r\n      createAxis () {\r\n        if (!this.rowData.length || !this.$refs.wrapper) {\r\n          return\r\n        }\r\n        this.Axis = []\r\n        let max = this.getNumberSize(Math.max.apply(Math, this.rowData))\r\n        let min = this.getNumberSize(Math.min.apply(Math, this.rowData))\r\n        let num = max - min === 0 ? 1 : max - min\r\n        let width = this.$refs.canvas.offsetWidth\r\n        let height = this.$refs.canvas.offsetHeight\r\n        for (let i = 0; i < this.rowData.length; i++) {\r\n          this.Axis.push({\r\n            x: 60 + (width - 60) / this.rowData.length * i,\r\n            y: num === 1 ? this.$refs.canvas.offsetHeight / 2 : height - this.setWeatherPosition(this.rowData[i]) - 50\r\n          })\r\n        }\r\n      },\r\n      initLine (cxt, play = true) {\r\n        let i = 0\r\n        clearInterval(this.timer)\r\n        if (!this.rowData.length) {\r\n          return\r\n        }\r\n        if (play) {\r\n          this.timer = setInterval(() => {\r\n            this.createText(this.Axis[i].x - 5, this.Axis[i].y - 10, cxt, this.rowData[i])\r\n            this.createArc(this.Axis[i].x, this.Axis[i].y, cxt)\r\n            if (!this.Axis[i + 1]) {\r\n              clearInterval(this.timer)\r\n              return\r\n            }\r\n            this.createStroke(this.Axis[i].x, this.Axis[i].y, this.Axis[i + 1].x, this.Axis[i + 1].y, cxt)\r\n            i++\r\n          }, 30)\r\n        } else {\r\n          for (let i = 0; i < this.Axis.length; i++) {\r\n            this.createArc(this.Axis[i].x, this.Axis[i].y, cxt)\r\n            this.createText(this.Axis[i].x - 5, this.Axis[i].y - 10, cxt, this.rowData[i])\r\n            if (!this.Axis[i + 1]) {\r\n              return\r\n            }\r\n            this.createStroke(this.Axis[i].x, this.Axis[i].y, this.Axis[i + 1].x, this.Axis[i + 1].y, cxt)\r\n          }\r\n        }\r\n      },\r\n      initCanvas (play = this.playing) {\r\n        let canvas = this.$refs.canvas\r\n        let cxt = canvas.getContext('2d')\r\n        if (!this.$refs.wrapper) {\r\n          return\r\n        }\r\n        let width = this.$refs.canvas.offsetWidth\r\n        let height = this.$refs.canvas.offsetHeight\r\n        canvas.width = this.$refs.canvas.offsetWidth\r\n        canvas.height = this.$refs.canvas.offsetHeight\r\n        cxt.clearRect(0, 0, width, height)\r\n        cxt.fillStyle = `transparent`\r\n        cxt.fillRect(0, 0, width, height)\r\n        this.setRowNumber(height, cxt)\r\n        this.setColNumber(width, height, cxt)\r\n        this.initLine(cxt, play)\r\n      }\r\n    },\r\n    mounted () {\r\n      if (this.rowData.length) {\r\n        this.createCanvas()\r\n        window.addEventListener('resize', () => {\r\n          if (!this.$refs.wrapper) {\r\n            return\r\n          }\r\n          this.createAxis()\r\n          this.initCanvas()\r\n        })\r\n      }\r\n    },\r\n    watch: {\r\n      rowData () {\r\n        if (!this.rowData.length) {\r\n          return\r\n        }\r\n        clearInterval(this.timer)\r\n        this.createAxis()\r\n        this.initCanvas()\r\n      }\r\n    },\r\n    deactivated () {\r\n      clearInterval(this.createTimer)\r\n      clearInterval(this.timer)\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"less\" scoped rel=\"stylesheet/less\">\r\n  #lineChart {\r\n    width: 100%;\r\n    height: 100%;\r\n    position: relative;\r\n    background-color: rgba(0, 0, 0, .5);\r\n    #canvas {\r\n      width: 100%;\r\n      height: 100%;\r\n      cursor: pointer;\r\n    }\r\n    .download {\r\n      padding: 0 10px;\r\n      height: 30px;\r\n      line-height: 30px;\r\n      position: absolute;\r\n      right: 0;\r\n      top: 0;\r\n      cursor: pointer;\r\n      text-align: center;\r\n      &:hover {\r\n        color: #f00;\r\n      }\r\n    }\r\n  }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// lineChart.vue?00f6386c","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    style: ({\n      'background': (\"url('static/weatherBg/\" + _vm.bgImg + \".jpg') no-repeat 0 0 / cover fixed\")\n    }),\n    attrs: {\n      \"id\": \"home\"\n    }\n  }, [_c('div', {\n    staticClass: \"inner\"\n  }, [(_vm.city !== '') ? _c('div', {\n    staticClass: \"position\"\n  }, [_vm._m(0), _vm._v(\" \" + _vm._s(_vm.city) + \", \" + _vm._s(_vm.province) + \",中国\\n        \"), (_vm.searchShow) ? _c('input', {\n    ref: \"searchInput\",\n    attrs: {\n      \"type\": \"text\",\n      \"autofocus\": \"autofocus\",\n      \"placeholder\": \"请输入您想查找的城市\"\n    },\n    on: {\n      \"keydown\": function($event) {\n        if (!('button' in $event) && _vm._k($event.keyCode, \"enter\", 13, $event.key)) { return null; }\n        _vm.searchKeyDown($event)\n      }\n    }\n  }) : _vm._e(), _vm._v(\" \"), _c('i', {\n    staticClass: \"icon-search\",\n    on: {\n      \"click\": _vm.search\n    }\n  })]) : _vm._e(), _vm._v(\" \"), _c('dl', {\n    staticClass: \"content\"\n  }, [_c('dt', [_c('h2', [_vm._v(_vm._s(_vm.ToDayWenDU)), (_vm.ToDayWenDU) ? _c('span') : _vm._e()]), _vm._v(\" \"), _c('span', [_c('i', {\n    class: _vm.icon\n  })]), _vm._v(\" \"), _c('em', [_vm._v(_vm._s(_vm.ToDayTianQi))])]), _vm._v(\" \"), _c('dd', {\n    staticClass: \"ac text_hide\"\n  }, [_c('span', [_vm._v(\"今日天气提示\")]), _vm._v(\" \"), _c('span', [_vm._v(_vm._s(_vm.tips))])])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"wrapper\"\n  }, [_c('div', {\n    staticClass: \"more_weather\"\n  }, _vm._l((_vm.weatherList), function(item) {\n    return _c('ul', {\n      staticClass: \"weather_list\"\n    }, [_c('li', [_c('div', {\n      staticClass: \"item\"\n    }, [_vm._v(_vm._s(item.time === null || '' ? '暂无' : item.time))]), _vm._v(\" \"), _c('div', {\n      staticClass: \"item\"\n    }, [_vm._v(_vm._s(item.day === null || '' ? '暂无' : item.day))]), _vm._v(\" \"), _c('div', {\n      staticClass: \"item\"\n    }, [_vm._v(_vm._s(item.day_tianqi === null || '' ? '暂无' : item.day_tianqi))]), _vm._v(\" \"), _c('div', {\n      staticClass: \"item text_hide\"\n    }, [_vm._v(\"\\n                \" + _vm._s(item.day_wendu === null || '' ? '暂无' : item.day_wendu)), (item.day_wendu !== null) ? _c('span', [_vm._v(\"℃\")]) : _vm._e()]), _vm._v(\" \"), _c('div', {\n      staticClass: \"item\"\n    }, [_vm._v(_vm._s(item.day_wind === null || '' ? '暂无' : item.day_wind))])]), _vm._v(\" \"), _c('li', [_c('div', {\n      staticClass: \"item\"\n    }, [_vm._v(_vm._s(item.time === null || '' ? '暂无' : item.time))]), _vm._v(\" \"), _c('div', {\n      staticClass: \"item\"\n    }, [_vm._v(_vm._s(item.night === null || '' ? '暂无' : item.night))]), _vm._v(\" \"), _c('div', {\n      staticClass: \"item\"\n    }, [_vm._v(_vm._s(item.night_tianqi === null || '' ? '暂无' : item.night_tianqi))]), _vm._v(\" \"), _c('div', {\n      staticClass: \"item text_hide\"\n    }, [_vm._v(_vm._s(item.day_wendu === '' ? '暂无' : item.night_wendu)), (item.night_wendu !== null || '') ? _c('span', [_vm._v(\"℃\")]) : _vm._e()]), _vm._v(\" \"), _c('div', {\n      staticClass: \"item\"\n    }, [_vm._v(_vm._s(item.night_wind === null || '' ? '暂无' : item.night_wind))])])])\n  })), _vm._v(\" \"), _c('div', {\n    staticClass: \"rank\"\n  }, [_c('h4', {\n    staticClass: \"text_hide\"\n  }, [_vm._v(\"历年天气统计概况\")]), _vm._v(\" \"), (_vm.rankList.length) ? _c('ul', [_c('Li', [_c('p', [_c('span', [_vm._v(\"月最高气温\")]), _vm._v(\" : \" + _vm._s(_vm.rankList[0]) + \"℃ (出现在\" + _vm._s(_vm.rankList[1]) + \")\")])]), _vm._v(\" \"), _c('Li', [_c('p', [_c('span', [_vm._v(\"月最低气温\")]), _vm._v(\" : \" + _vm._s(_vm.rankList[2]) + \"℃ (出现在\" + _vm._s(_vm.rankList[3]) + \")\")])])], 1) : _vm._e()])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"canvas_wrapper\",\n    on: {\n      \"touchstart\": function($event) {\n        if (!('button' in $event) && _vm._k($event.keyCode, \"preve\", undefined, $event.key)) { return null; }\n        $event.stopPropagation();\n        _vm.canvasTouchStart($event)\n      },\n      \"touchmove\": function($event) {\n        if (!('button' in $event) && _vm._k($event.keyCode, \"preve\", undefined, $event.key)) { return null; }\n        $event.stopPropagation();\n        _vm.canvasTouchMove($event)\n      },\n      \"touchend\": function($event) {\n        if (!('button' in $event) && _vm._k($event.keyCode, \"preve\", undefined, $event.key)) { return null; }\n        $event.stopPropagation();\n        _vm.canvasTouchEnd($event)\n      }\n    }\n  }, [_c('div', {\n    ref: \"canvas\",\n    staticClass: \"canvas\"\n  }, [(_vm.canvasList.length) ? _c('div', {\n    staticClass: \"btn\"\n  }, [_c('button', {\n    class: {\n      ac: _vm.dayBtn === 'day'\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.btn(_vm.dayList, 'day')\n      }\n    }\n  }, [_vm._v(\"白天\")]), _vm._v(\" \"), _c('button', {\n    class: {\n      ac: _vm.dayBtn === 'night'\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.btn(_vm.nightList, 'night')\n      }\n    }\n  }, [_vm._v(\"晚上\")])]) : _vm._e(), _vm._v(\" \"), _c('line-chart', {\n    attrs: {\n      \"rowData\": _vm.canvasList,\n      \"colData\": _vm.sunList\n    }\n  })], 1)]), _vm._v(\" \"), _c('foot-box'), _vm._v(\" \"), (!_vm.loaded && !_vm.error) ? _c('loading') : _vm._e()], 1), _vm._v(\" \"), (_vm.error) ? _c('wrong') : _vm._e()], 1)\n},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('span', [_c('i', {\n    staticClass: \"icon-position\"\n  })])\n}]}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@11.3.4@vue-loader/lib/template-compiler?{\"id\":\"data-v-f6185880\",\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./node_modules/_vue-loader@11.3.4@vue-loader/lib/selector.js?type=template&index=0!./src/components/home/home.vue\n// module id = URnm\n// module chunks = 5","<template>\r\n  <div id=\"home\" :style=\"{\r\n  'background': `url('static/weatherBg/${bgImg}.jpg') no-repeat 0 0 / cover fixed`}\r\n\">\r\n    <div class=\"inner\">\r\n      <div class=\"position\" v-if=\"city!==''\">\r\n        <span><i class=\"icon-position\"></i></span> {{city}}, {{province}},中国\r\n        <input @keydown.enter=\"searchKeyDown\"\r\n               type=\"text\"\r\n               ref=\"searchInput\"\r\n               autofocus=\"autofocus\"\r\n               v-if=\"searchShow\"\r\n               placeholder=\"请输入您想查找的城市\">\r\n        <i class=\"icon-search\" @click=\"search\"></i>\r\n      </div>\r\n      <dl class=\"content\">\r\n        <dt>\r\n          <h2>{{ToDayWenDU}}<span v-if=\"ToDayWenDU\"></span></h2>\r\n          <span><i :class=\"icon\"></i></span>\r\n          <em>{{ToDayTianQi}}</em>\r\n        </dt>\r\n        <!--<dd>aaaa</dd>-->\r\n        <!--<dd>bbbb</dd>-->\r\n        <!--<dd>cccc</dd>-->\r\n        <dd class=\"ac text_hide\">\r\n          <span>今日天气提示</span> <span>{{tips}}</span>\r\n        </dd>\r\n      </dl>\r\n      <div class=\"wrapper\">\r\n        <div class=\"more_weather\">\r\n          <ul class=\"weather_list\" v-for=\"item in weatherList\">\r\n            <li>\r\n              <div class=\"item\">{{item.time===null||''?'暂无':item.time}}</div>\r\n              <div class=\"item\">{{item.day===null||''?'暂无':item.day}}</div>\r\n              <div class=\"item\">{{item.day_tianqi===null||''?'暂无':item.day_tianqi}}</div>\r\n              <div class=\"item text_hide\">\r\n                {{item.day_wendu===null||''?'暂无':item.day_wendu}}<span v-if=\"item.day_wendu!==null\">℃</span>\r\n              </div>\r\n              <div class=\"item\">{{item.day_wind===null||''?'暂无':item.day_wind}}</div>\r\n            </li>\r\n            <li>\r\n              <div class=\"item\">{{item.time===null||''?'暂无':item.time}}</div>\r\n              <div class=\"item\">{{item.night===null||''?'暂无':item.night}}</div>\r\n              <div class=\"item\">{{item.night_tianqi===null||''?'暂无':item.night_tianqi}}</div>\r\n              <div class=\"item text_hide\">{{item.day_wendu===''?'暂无':item.night_wendu}}<span\r\n                v-if=\"item.night_wendu!==null||''\">℃</span></div>\r\n              <div class=\"item\">{{item.night_wind===null||''?'暂无':item.night_wind}}</div>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n        <div class=\"rank\">\r\n          <h4 class=\"text_hide\">历年天气统计概况</h4>\r\n          <ul v-if=\"rankList.length\">\r\n            <Li>\r\n              <p><span>月最高气温</span> : {{rankList[0]}}℃ (出现在{{rankList[1]}})</p>\r\n            </Li>\r\n            <Li>\r\n              <p><span>月最低气温</span> : {{rankList[2]}}℃ (出现在{{rankList[3]}})</p>\r\n            </Li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n      <div class=\"canvas_wrapper\"\r\n           @touchstart.stop.preve=\"canvasTouchStart\"\r\n           @touchmove.stop.preve=\"canvasTouchMove\"\r\n           @touchend.stop.preve=\"canvasTouchEnd\">\r\n        <div class=\"canvas\" ref=\"canvas\">\r\n          <div class=\"btn\" v-if=\"canvasList.length\">\r\n            <button :class=\"{ac:dayBtn==='day'}\" @click=\"btn(dayList,'day')\">白天</button>\r\n            <button :class=\"{ac:dayBtn==='night'}\" @click=\"btn(nightList,'night')\">晚上</button>\r\n          </div>\r\n          <line-chart :rowData=\"canvasList\" :colData=\"sunList\"></line-chart>\r\n        </div>\r\n      </div>\r\n      <foot-box></foot-box>\r\n      <loading v-if=\"!loaded && !error\"></loading>\r\n    </div>\r\n    <wrong v-if=\"error\"></wrong>\r\n  </div>\r\n</template>\r\n\r\n<script type=\"text/ecmascript-6\">\r\n  import { ERROR } from 'api/config'\r\n  import { getWeatherList } from 'api/getWeatherList'\r\n  import { getWeatherType } from 'common/js/getType'\r\n\r\n  import LineChart from 'base/lineChart/lineChart'\r\n  import Loading from 'base/loading/loading'\r\n  import Wrong from 'base/error/error'\r\n  import FootBox from 'components/footer/footer'\r\n\r\n  export default {\r\n    data () {\r\n      return {\r\n        loaded: false,\r\n        error: false,\r\n        dayBtn: new Date().getHours() > 18 ? 'night' : 'day',\r\n        city: '',\r\n        province: '',\r\n        searchShow: false,\r\n        weatherList: [],\r\n        ToDayWenDU: '',\r\n        ToDayTianQi: '',\r\n        bgImg: '晴',\r\n        tips: '',\r\n        icon: '',\r\n        dayList: [],\r\n        rankList: [],\r\n        nightList: [],\r\n        canvasList: [],\r\n        sunList: [],\r\n        deltaX: 0\r\n      }\r\n    },\r\n    created () {\r\n      this.touch = {}\r\n    },\r\n    methods: {\r\n      canvasTouchStart (ev) {\r\n        this.touch.initiated = true\r\n        const touch = ev.touches[0]\r\n        this.touch.startX = touch.pageX + Math.abs(this.deltaX)\r\n      },\r\n      canvasTouchMove (ev) {\r\n        if (!this.touch.initiated) {\r\n          return\r\n        }\r\n        const touch = ev.touches[0]\r\n        this.deltaX = touch.pageX - this.touch.startX\r\n        if (this.deltaX >= 0) {\r\n          this.deltaX = 0\r\n        }\r\n        if (this.deltaX <= -(this.$refs.canvas.offsetWidth - this.$refs.canvas.parentNode.offsetWidth)) {\r\n          this.deltaX = -(this.$refs.canvas.offsetWidth - this.$refs.canvas.parentNode.offsetWidth)\r\n        }\r\n        this.$refs.canvas.style.webkitTransform = `translateX(${this.deltaX}px)`\r\n      },\r\n      canvasTouchEnd (ev) {\r\n        this.touch.initiated = false\r\n      },\r\n      _getWeatherType (type, num) {\r\n        this.bgImg = getWeatherType(type, num).bgImg\r\n        this.tips = getWeatherType(type, num).tips\r\n        this.icon = getWeatherType(type, num).icon\r\n      },\r\n      _getWeatherList (city = '') {\r\n        getWeatherList(city).then((res) => {\r\n          let nowHours = new Date().getHours()\r\n          console.log(res.data.data[1])\r\n          if (res.data.error === ERROR) {\r\n            this.weatherList = res.data.data\r\n            this.loaded = true\r\n            this.city = res.data.data[0].cityname\r\n            this.province = res.data.data[0].provincename\r\n            this.dayList = res.data.day\r\n            this.nightList = res.data.night\r\n            this.sunList = res.data.sun\r\n            this.rankList = res.data.time\r\n            this.canvasList = nowHours > 18 ? res.data.night : res.data.day\r\n            this.ToDayWenDU = nowHours > 18 ? parseInt(res.data.data[0].night_wendu) : parseInt(res.data.data[0].day_wendu)\r\n            this.ToDayTianQi = nowHours > 18 ? res.data.data[0].night_tianqi : res.data.data[0].day_tianqi\r\n            this._getWeatherType(this.ToDayTianQi, this.ToDayWenDU)\r\n            this.error = false\r\n          } else {\r\n            this.error = true\r\n          }\r\n        }).catch((res) => {\r\n          this.error = true\r\n        })\r\n      },\r\n      btn (dayList, time) {\r\n        this.dayBtn = time\r\n        this.canvasList = dayList\r\n      },\r\n      search () {\r\n        if (this.searchShow) {\r\n          let city = this.$refs.searchInput.value\r\n          if (city === '') {\r\n            this.searchShow = false\r\n            return\r\n          }\r\n          if (city === this.city) {\r\n            alert('和当前城市相同,请重新输入!')\r\n            this.searchShow = false\r\n            return\r\n          }\r\n          this.loaded = false\r\n          this._getWeatherList(city)\r\n          city = ''\r\n          this.searchShow = false\r\n        } else {\r\n          this.searchShow = true\r\n        }\r\n      },\r\n      searchKeyDown () {\r\n        let city = this.$refs.searchInput.value\r\n        if (city === this.city) {\r\n          alert('和当前城市相同,请重新输入!')\r\n          this.searchShow = false\r\n          return\r\n        }\r\n        this.loaded = false\r\n        this._getWeatherList(city)\r\n        city = ''\r\n        this.searchShow = false\r\n      }\r\n    },\r\n    mounted () {\r\n      this._getWeatherList()\r\n    },\r\n    components: {\r\n      LineChart,\r\n      FootBox,\r\n      Loading,\r\n      Wrong\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"less\" scoped rel=\"stylesheet/less\" type=\"text/less\">\r\n  @import \"../../common/css/mixin.less\";\r\n\r\n  @media screen and (max-width: 450px ) {\r\n    #home {\r\n      .inner {\r\n        width: 95% !important;\r\n        .content {\r\n          dt {\r\n            span {\r\n              font-size: 85px;\r\n            }\r\n          }\r\n        }\r\n        .wrapper {\r\n          display: block !important;\r\n          .more_weather {\r\n            width: 100%;\r\n            box-sizing: border-box;\r\n            ul {\r\n              li {\r\n                .item {\r\n                  flex: none !important;\r\n                }\r\n              }\r\n            }\r\n          }\r\n          .rank {\r\n            width: 100%;\r\n            line-height: 2;\r\n          }\r\n        }\r\n        .position {\r\n          input {\r\n            width: 6rem !important;\r\n          }\r\n        }\r\n        .canvas_wrapper {\r\n          .canvas {\r\n            width: 1000px;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  #home {\r\n    color: #fff;\r\n    min-height: 100%;\r\n    padding-top: 100px;\r\n    padding-bottom: 20px;\r\n    box-sizing: border-box;\r\n    transition: all 2s;\r\n    .position {\r\n      width: fit-content;\r\n      padding: 0 20px;\r\n      margin: 10px 0;\r\n      border-radius: 15px;\r\n      height: 30px;\r\n      line-height: 30px;\r\n      color: #fff;\r\n      font-size: 18px;\r\n      background-color: rgba(0, 0, 0, .5);\r\n      transition: all 0.3s;\r\n      span {\r\n        padding-right: 0.2rem;\r\n        font-size: 20px;\r\n        color: rgb(255, 90, 60)\r\n      }\r\n      input {\r\n        height: 20px;\r\n        background-color: transparent;\r\n        border: none;\r\n        color: #ddd;\r\n        outline: #ddd;\r\n        border-bottom: 1px solid #ccc;\r\n      }\r\n    }\r\n    .content {\r\n      display: flex;\r\n      justify-content: flex-start;\r\n      flex-wrap: wrap;\r\n      dt {\r\n        width: 100%;\r\n        position: relative;\r\n        h2 {\r\n          display: inline-block;\r\n          position: relative;\r\n          font: 120px/ 120px Arial;\r\n          height: 120px;\r\n          span {\r\n            position: absolute;\r\n            top: 10px;\r\n            right: -20px;\r\n            display: block;\r\n            box-sizing: border-box;\r\n            width: 15px;\r\n            height: 15px;\r\n            border: 4px solid #fff;\r\n            border-radius: 50%;\r\n          }\r\n        }\r\n        > span {\r\n          position: absolute;\r\n          right: 10%;\r\n          margin-left: 10px;\r\n          font-size: 120px;\r\n          color: rgb(255, 220, 74);\r\n        }\r\n        em {\r\n          margin-left: 10px;\r\n          font: 30px / 30px '楷体';\r\n        }\r\n      }\r\n      dd {\r\n        height: 26px;\r\n        line-height: 26px;\r\n        margin-right: 20px;\r\n        display: flex;\r\n        flex-wrap: nowrap;\r\n        &.ac {\r\n          width: 100%;\r\n        }\r\n        span {\r\n          .background;\r\n          display: inline-block;\r\n          padding: 0 15px;\r\n          border-radius: 13px;\r\n        }\r\n\r\n      }\r\n    }\r\n    .wrapper {\r\n      width: 100%;\r\n      display: flex;\r\n      justify-content: space-between;\r\n      flex-wrap: nowrap;\r\n      .more_weather {\r\n        .background;\r\n        width: 70%;\r\n        margin-top: 10px;\r\n        padding: 10px;\r\n        h6 {\r\n          height: 30px;\r\n          font: 16px / 30px '微软雅黑';\r\n        }\r\n        .weather_list {\r\n          width: 100%;\r\n          li {\r\n            height: 60px;\r\n            font: 16px / 60px '宋体';\r\n            border-bottom: 1px solid rgba(255, 255, 255, .5);\r\n            display: flex;\r\n            justify-content: space-between;\r\n            flex-wrap: nowrap;\r\n            text-align: center;\r\n            .item {\r\n              flex: 1;\r\n              font: 16px / 60px '宋体';\r\n            }\r\n          }\r\n        }\r\n      }\r\n      .rank {\r\n        .background;\r\n        margin-top: 10px;\r\n        width: 27%;\r\n        display: flex;\r\n        justify-content: center;\r\n        flex-direction: column;\r\n        h4 {\r\n          font: 20px / 40px '';\r\n          text-align: center;\r\n        }\r\n        ul {\r\n          width: fit-content;\r\n          position: relative;\r\n          left: 0;\r\n          right: 0;\r\n          margin: 0 auto;\r\n        }\r\n      }\r\n    }\r\n    .canvas_wrapper {\r\n      width: 100%;\r\n      overflow: hidden;\r\n      .canvas {\r\n        position: relative;\r\n        margin-top: 30px;\r\n        width: 100%;\r\n        height: 300px;\r\n        .btn {\r\n          display: inline-block;\r\n          position: absolute;\r\n          left: 0;\r\n          top: 0;\r\n          z-index: 1000;\r\n          button {\r\n            background-color: transparent;\r\n            border: none;\r\n            color: #fff;\r\n            transition: all 0.3s;\r\n            outline: none;\r\n            cursor: pointer;\r\n            &.ac {\r\n              color: #00BFFF;\r\n            }\r\n            &:hover {\r\n              color: #00BFFF;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// home.vue?6fa96339","import axios from 'axios'\r\n\r\nexport function getWeatherList (city = '') {\r\n  let url = `http://www.cq.cn/x/air/tianqi4/index.php/play/getWeatherYb/search/${city}`\r\n  return axios.get(url)\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/getWeatherList.js"],"sourceRoot":""}